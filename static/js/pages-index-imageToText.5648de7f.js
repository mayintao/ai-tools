(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-imageToText"],{"0dd7":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToPath=function(e){return new Promise((function(t,n){if("object"===("undefined"===typeof window?"undefined":(0,i.default)(window))&&"document"in window){e=e.split(",");var a=e[0].match(/:(.*?);/)[1],c=atob(e[1]),d=c.length,l=new Uint8Array(d);while(d--)l[d]=c.charCodeAt(d);return t((window.URL||window.webkitURL).createObjectURL(new Blob([l],{type:a})))}var s=e.split(",")[0].match(/data\:\S+\/(\S+);/);s?s=s[1]:n(new Error("base64 error"));var u=function(){return Date.now()+String(r++)}()+"."+s;if("object"!==("undefined"===typeof plus?"undefined":(0,i.default)(plus)))if("object"===("undefined"===typeof wx?"undefined":(0,i.default)(wx))&&wx.canIUse("getFileSystemManager")){f=wx.env.USER_DATA_PATH+"/"+u;wx.getFileSystemManager().writeFile({filePath:f,data:o(e),encoding:"base64",success:function(){t(f)},fail:function(e){n(e)}})}else n(new Error("not support"));else{var f="_doc/uniapp_temp/"+u;if(!function(e,t){for(var n=e.split("."),a=t.split("."),i=!1,o=0;o<a.length;o++){var r=n[o]-a[o];if(0!==r){i=r>0;break}}return i}("Android"===plus.os.name?"1.9.9.80627":"1.9.9.80472",plus.runtime.innerVersion))return void plus.io.resolveLocalFileSystemURL("_doc",(function(a){a.getDirectory("uniapp_temp",{create:!0,exclusive:!1},(function(a){a.getFile(u,{create:!0,exclusive:!1},(function(a){a.createWriter((function(a){a.onwrite=function(){t(f)},a.onerror=n,a.seek(0),a.writeAsBinary(o(e))}),n)}),n)}),n)}),n);var g=new plus.nativeObj.Bitmap(u);g.loadBase64Data(e,(function(){g.save(f,{},(function(){g.clear(),t(f)}),(function(e){g.clear(),n(e)}))}),(function(e){g.clear(),n(e)}))}}))},t.pathToBase64=function(e){return new Promise((function(t,n){if("object"===("undefined"===typeof window?"undefined":(0,i.default)(window))&&"document"in window){if("function"===typeof FileReader){var a=new XMLHttpRequest;return a.open("GET",e,!0),a.responseType="blob",a.onload=function(){if(200===this.status){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=n,e.readAsDataURL(this.response)}},a.onerror=n,void a.send()}var o=document.createElement("canvas"),r=o.getContext("2d"),c=new Image;return c.onload=function(){o.width=c.width,o.height=c.height,r.drawImage(c,0,0),t(o.toDataURL()),o.height=o.width=0},c.onerror=n,void(c.src=e)}"object"!==("undefined"===typeof plus?"undefined":(0,i.default)(plus))?"object"===("undefined"===typeof wx?"undefined":(0,i.default)(wx))&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t("data:image/png;base64,"+e.data)},fail:function(e){n(e)}}):n(new Error("not support")):plus.io.resolveLocalFileSystemURL(function(e){if(0===e.indexOf("_www")||0===e.indexOf("_doc")||0===e.indexOf("_documents")||0===e.indexOf("_downloads"))return e;if(0===e.indexOf("file://"))return e;if(0===e.indexOf("/storage/emulated/0/"))return e;if(0===e.indexOf("/")){var t=plus.io.convertAbsoluteFileSystem(e);if(t!==e)return t;e=e.substr(1)}return"_www/"+e}(e),(function(e){e.file((function(e){var a=new plus.io.FileReader;a.onload=function(e){t(e.target.result)},a.onerror=function(e){n(e)},a.readAsDataURL(e)}),(function(e){n(e)}))}),(function(e){n(e)}))}))};var i=a(n("fcf3"));function o(e){var t=e.split(",");return t[t.length-1]}n("5ef2"),n("bf0f"),n("7a76"),n("c9b5"),n("5c47"),n("2c10"),n("15d1"),n("d5c6"),n("5a56"),n("f074"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("18f7"),n("de6c"),n("dc89"),n("2425");var r=0},"1ccc":function(e,t,n){"use strict";n.r(t);var a=n("9266"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"207c":function(e,t,n){"use strict";var a=n("654e"),i=n.n(a);i.a},"654e":function(e,t,n){var a=n("892a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("b5b8dcec",a,!0,{sourceMap:!1,shadowMode:!1})},"892a":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".uni-title[data-v-173e3a55]{margin-top:%?40?%;font-size:%?30?%;font-weight:500;padding:%?20?% 0;line-height:1.5}.donate-area[data-v-173e3a55]{display:flex;flex-direction:column;align-items:center;margin-top:%?40?%}.donate-text[data-v-173e3a55]{margin-top:%?10?%;color:#000;font-size:%?26?%;text-align:center}.uni-common-pl[data-v-173e3a55]{padding-left:%?30?%}.uni-list[data-v-173e3a55]{background-color:#fff;position:relative;width:100%;display:flex;flex-direction:column}.uni-list-cell[data-v-173e3a55]{position:relative;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.uni-list-cell-left[data-v-173e3a55]{white-space:nowrap;font-size:%?28?%;padding:0 %?30?%}.text-tips[data-v-173e3a55]{margin:%?20?%;display:flex;background-color:#fff;justify-content:center;align-items:center;text-align:left;font-size:%?30?%;color:#353535;line-height:1.7}.uni-list-cell-db[data-v-173e3a55],\n.uni-list-cell-right[data-v-173e3a55]{flex:1}.uni-input[data-v-173e3a55]{height:%?50?%;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;background:#fff;flex:1}.link-label[data-v-173e3a55]{font-size:%?26?%;color:#666;margin-bottom:%?10?%;display:block}.result-link-box[data-v-173e3a55]{height:auto;min-height:%?80?%;margin-top:%?20?%;padding:%?20?%;background-color:#f9f9f9;border-radius:%?10?%;word-break:break-all}.link-url[data-v-173e3a55]{margin:%?30?%;padding:%?20?%;font-size:%?36?%;color:#007aff}.paylist-card[data-v-173e3a55]{background:#fff;padding:%?30?%;border-radius:%?16?%;margin-right:%?20?%;border:%?2?% solid #e0e0e0;box-shadow:0 %?6?% %?12?% rgba(0,0,0,.05);min-width:%?300?%; /* 让卡片有固定宽度 */text-align:center;flex-shrink:0}.scroll-container[data-v-173e3a55]{width:100%;white-space:nowrap}.text-tips[data-v-173e3a55]{margin:%?20?%;display:flex;background-color:#fff;justify-content:center;align-items:center;text-align:left;font-size:%?30?%;color:#353535;line-height:1.7}.text-area[data-v-173e3a55]{display:flex;justify-content:center}.text[data-v-173e3a55]{justify-content:center;align-items:center;text-align:left;font-size:%?30?%;color:#353535;line-height:1.8}.btn-bg[data-v-173e3a55]{margin-top:%?10?%;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center}.uni-result-wrapper[data-v-173e3a55]{height:%?300?%;width:80%;margin:%?20?%;background-color:#123fff}.img-bg[data-v-173e3a55]{margin-top:%?40?%;background-color:#fff}.imagead[data-v-173e3a55]{margin:%?20?%;width:160px;height:160px;background-color:#eee}.content[data-v-173e3a55]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.btnitem_bg[data-v-173e3a55]{width:40%;margin-left:%?40?%;margin-right:%?40?%;background-color:#2979ff}.btn_translate_bg[data-v-173e3a55]{margin-top:%?40?%;width:70%;margin-left:%?40?%;margin-right:%?40?%;background-color:#128f94}.text-area[data-v-173e3a55]{display:flex;justify-content:center}.title[data-v-173e3a55]{font-size:%?36?%;color:#8f8f94}.result[data-v-173e3a55]{font-size:%?24?%;color:#128f94}.uni-btn-v[data-v-173e3a55]{margin:%?40?%;padding:%?10?% 0}.input-result[data-v-173e3a55]{height:auto;margin:%?20?%;padding:%?10?%;font-size:%?24?%;background:#fff;color:#353535}.date-text[data-v-173e3a55]{color:red; /* 文字颜色 */margin:%?30?%;text-align:center; /* 文字居中 */font-size:%?40?%; /* 增大字体，方便阅读 */font-weight:700; /* 加粗，提高可读性 */background-color:#ffecec; /* 轻微红色背景，提高可读性 */padding:%?10?% %?20?%; /* 增加内边距，让日期更易读 */border-radius:%?10?%; /* 圆角，美观 */display:inline-block; /* 让每个日期占据适当宽度 */white-space:nowrap /* 防止日期换行 */}.selectable-text[data-v-173e3a55]{-webkit-user-select:text;user-select:text; /* 允许文本复制 */word-wrap:break-word}",""]),e.exports=t},9266:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("0dd7");var a={data:function(){return{imagePath:"",resultTextList:[]}},onLoad:function(){},methods:{chooseImage:function(){var e=this;uni.chooseImage({success:function(t){uni.showLoading({title:"处理中..."}),e.imagePath=t.tempFilePaths[0],uni.uploadFile({url:"https://7112-210-19-68-82.ngrok-free.app/ai/api_image_to_text",filePath:e.imagePath,name:"image",timeout:12e4,success:function(t){uni.hideLoading(),console.log(t);var n={};try{n=JSON.parse(t.data)}catch(a){return void console.error("解析 JSON 失败：",t.data)}n.text_result_list?e.resultTextList=n.text_result_list:console.warn("text_result 为空：",n)},fail:function(e){uni.hideLoading(),console.error("图片上传失败：",e)}})}})},previewOriginalImage:function(){""!=this.imagePath&&uni.previewImage({urls:[this.imagePath]})},goDonate:function(){window.open("https://coff.ee/aitoolsmayt","_blank")}}};t.default=a},d855:function(e,t,n){"use strict";n.r(t);var a=n("f76c"),i=n("1ccc");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("207c");var r=n("828b"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"173e3a55",null,!1,a["a"],void 0);t["default"]=c.exports},f76c:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"uni-title uni-common-pl"},[e._v("图像字幕生成（Image Captioning）")]),n("v-uni-view",{staticClass:"uni-title uni-common-pl"},[e._v("由 Salesforce Research 提供的视觉语言模型，用于图像字幕生成")]),n("v-uni-view",{staticClass:"uni-title uni-common-pl"},[e._v("📌 适用场景\n\t\t自动图像标注系统（如图床、CMS）\n\t\t无障碍辅助技术（为视障人士描述图像）\n\t\t电商商品图描述生成\n\t\t社交媒体图像自动配文")]),n("v-uni-view",{staticClass:"uni-btn-v"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseImage.apply(void 0,arguments)}}},[e._v("选择图像")])],1),n("v-uni-view",{staticClass:"img-bg"},[n("v-uni-image",{staticClass:"imagead",attrs:{src:e.imagePath},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewOriginalImage.apply(void 0,arguments)}}})],1),n("v-uni-text",{staticClass:"date-text selectable-text"},[e._v(e._s(e.resultTextList[0]))]),n("v-uni-view",{staticClass:"donate-area",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goDonate.apply(void 0,arguments)}}},[n("v-uni-image",{staticStyle:{width:"200rpx"},attrs:{src:"https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png",mode:"widthFix"}}),n("v-uni-text",{staticClass:"donate-text"},[e._v("点我支持一下，帮助本站持续运行 🙏")])],1)],1)},i=[]}}]);